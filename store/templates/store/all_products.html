{% extends "store/base.html" %}

{% load static %}
{% block content %}
<h1>All Products</h1>

<ul>
    {% for product in products %}
    <li>
        <h2><a href="{% url 'store:product_detail' product.id %}">{{ product.name }}</a></h2>
        <div class="image-container">
            {% if product.featured_image %}
              <img src="{{ product.featured_image.url }}" alt="{{ product.name }}" style="width:150px;">
            {% else %}
              <img src="{% static 'images/default.jpg' %}" alt="default image" style="width:150px;">
            {% endif %}
          </div>
        <p>{{ product.description }}</p>
        <p>Price: ${{ product.price }}</p>
    </li>
    {% empty %}
    <p>No products found.</p>
    {% endfor %}
</ul>

<a href="{% url 'store:index' %}">Back to home</a>
{% endblock %}